{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\App-Shopping\\\\screens\\\\CategoryScreen\\\\CategoryScreen.jsx\";\n\nimport React, { useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Product from \"../../components/Product/Product\";\nimport Slider from \"../../components/Slider/Slider\";\nimport { getCategory } from \"../../store/slices/categorySlice\";\nimport styles from \"./CategoryScreenStyle\";\nimport { useRoute } from '@react-navigation/native';\nimport { initCategoryFilter } from \"../../store/slices/filterSlice\";\n\nvar CategoryScreen = function CategoryScreen() {\n  var dispatch = useDispatch();\n  var route = useRoute();\n  var listFavorite = useSelector(function (state) {\n    return state.Favorite.list;\n  });\n  var listFilter = useSelector(function (state) {\n    return state.Filter.filter;\n  });\n  var listCategory = useSelector(function (state) {\n    return state.Category.list;\n  });\n  var loadingCategory = useSelector(function (state) {\n    return state.Category.loadingList;\n  });\n  var isCheck = listFilter.category ? true : false;\n  useEffect(function () {\n    var _route$params;\n\n    if (route != null && (_route$params = route.params) != null && _route$params.id) {\n      var _route$params2;\n\n      dispatch(initCategoryFilter(route == null ? void 0 : (_route$params2 = route.params) == null ? void 0 : _route$params2.id));\n    }\n  }, [route]);\n  useEffect(function () {\n    var min_price = listFilter.minPrice;\n    var max_price = listFilter.maxPrice;\n    var sortBy, order, is_new, special;\n\n    switch (listFilter.items) {\n      case 'price_asc':\n        {\n          sortBy = 'price';\n          order = 'asc';\n        }\n        break;\n\n      case 'price_desc':\n        {\n          sortBy = 'price';\n          order = 'desc';\n        }\n        break;\n\n      case 'old':\n        {\n          sortBy = 'id';\n          order = 'desc';\n        }\n        break;\n\n      case 'new':\n        {\n          sortBy = 'id';\n          order = 'asc';\n        }\n        break;\n\n      case 'is_new':\n        {\n          is_new = true;\n        }\n        break;\n\n      case 'special':\n        {\n          special = true;\n        }\n        break;\n\n      case 'price_sale_off':\n        {\n          sortBy = 'price_sale_off';\n          order = 'desc';\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    dispatch(getCategory({\n      min_price: min_price,\n      max_price: max_price,\n      sortBy: sortBy,\n      order: order,\n      is_new: is_new,\n      special: special\n    }));\n  }, [listFilter]);\n\n  var renderProduct = function renderProduct() {\n    return listCategory.map(function (item, index) {\n      var isFavorite = listFavorite.find(function (items) {\n        return items === item.id;\n      });\n      var checkFavorite = isFavorite ? true : false;\n\n      if (isCheck) {\n        if (item.category_id === listFilter.category) {\n          return React.createElement(Product, {\n            key: index,\n            image: item == null ? void 0 : item.image,\n            name: item == null ? void 0 : item.name,\n            price: item == null ? void 0 : item.price,\n            price_sale_off: item == null ? void 0 : item.price_sale_off,\n            id: item.id,\n            checkFavorite: checkFavorite,\n            summary: item == null ? void 0 : item.summary,\n            rating: item == null ? void 0 : item.rating,\n            loading: loadingCategory,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }\n          });\n        }\n      } else return React.createElement(Product, {\n        key: index,\n        image: item == null ? void 0 : item.image,\n        name: item == null ? void 0 : item.name,\n        price: item == null ? void 0 : item.price,\n        price_sale_off: item == null ? void 0 : item.price_sale_off,\n        id: item.id,\n        checkFavorite: checkFavorite,\n        summary: item == null ? void 0 : item.summary,\n        rating: item == null ? void 0 : item.rating,\n        loading: loadingCategory,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      });\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, React.createElement(Slider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.listProduct,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, renderProduct())));\n};\n\nexport default CategoryScreen;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/App-Shopping/screens/CategoryScreen/CategoryScreen.jsx"],"names":["React","useEffect","useDispatch","useSelector","Product","Slider","getCategory","styles","useRoute","initCategoryFilter","CategoryScreen","dispatch","route","listFavorite","state","Favorite","list","listFilter","Filter","filter","listCategory","Category","loadingCategory","loadingList","isCheck","category","params","id","min_price","minPrice","max_price","maxPrice","sortBy","order","is_new","special","items","renderProduct","map","item","index","isFavorite","find","checkFavorite","category_id","image","name","price","price_sale_off","summary","rating","container","listProduct"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { ScrollView, View } from 'react-native';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Product from '../../components/Product/Product';\r\nimport Slider from '../../components/Slider/Slider';\r\nimport { getCategory } from '../../store/slices/categorySlice';\r\nimport styles from './CategoryScreenStyle';\r\nimport { useRoute } from '@react-navigation/native';\r\nimport { initCategoryFilter } from '../../store/slices/filterSlice';\r\n\r\nconst CategoryScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const route = useRoute();\r\n  \r\n  // console.log('route', route)\r\n  const listFavorite = useSelector(state => state.Favorite.list);\r\n  const listFilter = useSelector(state => state.Filter.filter);\r\n  const listCategory = useSelector(state => state.Category.list);\r\n  const loadingCategory = useSelector(state => state.Category.loadingList);\r\n  const isCheck = listFilter.category ? true : false;\r\n  // console.log(listFilter)\r\n\r\n  useEffect(() => {\r\n    if(route?.params?.id) {\r\n      // console.log('abc')\r\n      dispatch(initCategoryFilter(route?.params?.id))\r\n    }\r\n  }, [route])\r\n\r\n  useEffect(() => {\r\n    let min_price = listFilter.minPrice;\r\n    let max_price = listFilter.maxPrice;\r\n    let sortBy, order, is_new, special;\r\n    switch(listFilter.items) {\r\n      case 'price_asc': {\r\n        sortBy = 'price';\r\n        order = 'asc'\r\n      } break;\r\n      case 'price_desc': {\r\n        sortBy = 'price';\r\n        order = 'desc'\r\n      } break;\r\n      case 'old': {\r\n        sortBy = 'id';\r\n        order = 'desc'\r\n      } break;\r\n      case 'new': {\r\n        sortBy = 'id';\r\n        order = 'asc'\r\n      } break;\r\n      case 'is_new': {\r\n        is_new = true;\r\n      } break;\r\n      case 'special': {\r\n        special = true;\r\n      } break;\r\n      case 'price_sale_off': {\r\n        sortBy = 'price_sale_off';\r\n        order = 'desc'\r\n      } break;\r\n      default: break;\r\n    }\r\n\r\n    dispatch(getCategory({min_price, max_price, sortBy, order, is_new, special}))\r\n\r\n  }, [listFilter])\r\n\r\n  const renderProduct = () => {\r\n  \r\n    return listCategory.map((item, index) => {\r\n      const isFavorite = listFavorite.find(items => items === item.id);\r\n      const checkFavorite = isFavorite ? true : false;\r\n      if(isCheck) {\r\n        // console.log(listCategory.category)\r\n        if(item.category_id === listFilter.category) {\r\n          return (\r\n            <Product\r\n              key={index}\r\n              image={item?.image}\r\n                name={item?.name}\r\n                  price={item?.price}\r\n                 price_sale_off={item?.price_sale_off}\r\n                 id={item.id}\r\n                 checkFavorite={checkFavorite}\r\n                 summary={item?.summary}\r\n                 rating={item?.rating}\r\n                 loading={loadingCategory}\r\n            />\r\n          )\r\n        }\r\n      }\r\n      else\r\n      return (\r\n        <Product\r\n          key={index}\r\n          image={item?.image}\r\n            name={item?.name}\r\n              price={item?.price}\r\n             price_sale_off={item?.price_sale_off}\r\n             id={item.id}\r\n             checkFavorite={checkFavorite}\r\n             summary={item?.summary}\r\n             rating={item?.rating}\r\n             loading={loadingCategory}\r\n        />\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <ScrollView\r\n        showsVerticalScrollIndicator={false}\r\n      > \r\n        <Slider/>\r\n        <View style={styles.listProduct}>\r\n          {renderProduct()}\r\n        </View>\r\n        </ScrollView>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default CategoryScreen"]},"metadata":{},"sourceType":"module"}