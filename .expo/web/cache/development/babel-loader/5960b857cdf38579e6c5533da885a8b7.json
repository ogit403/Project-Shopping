{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\App-Shopping\\\\screens\\\\InfoScreen\\\\InfoScreen.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport styles from \"./InfoScreenStyle\";\nimport { Avatar } from 'react-native-paper';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { COLORS } from \"../../contains\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { Modal, Portal, Button, Provider } from 'react-native-paper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getInfoUser, updateInfoUser } from \"../../store/slices/userSlice\";\nimport { useNavigation, StackActions, useIsFocused, useFocusEffect } from '@react-navigation/native';\nimport { showMessage } from 'react-native-flash-message';\nimport MapView from 'react-native-maps';\n\nvar InfoScreen = function InfoScreen() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var user = useSelector(function (state) {\n    return state.User.user;\n  });\n  var isLogin = useSelector(function (state) {\n    return state.User.isLogin;\n  });\n  var loadingUpdate = useSelector(function (state) {\n    return state.User.loadingUpdate;\n  });\n  var navigation = useNavigation();\n  var dispatch = useDispatch();\n  var isFocused = useIsFocused();\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState({\n    name: user == null ? void 0 : user.name,\n    phone: user == null ? void 0 : user.phone,\n    address: user == null ? void 0 : user.address\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current = _useState6[0],\n      setCurrent = _useState6[1];\n\n  var showModal = function showModal() {\n    return setVisible(true);\n  };\n\n  var hideModal = function hideModal() {\n    setCurrent({\n      name: user == null ? void 0 : user.name,\n      phone: user == null ? void 0 : user.phone,\n      address: user == null ? void 0 : user.address\n    });\n    setVisible(false);\n  };\n\n  useEffect(function () {\n    if (!loadingUpdate) hideModal();\n  }, [loadingUpdate]);\n  useLayoutEffect(function () {\n    setCount(function (count) {\n      return count + 1;\n    });\n\n    if (isFocused) {\n      if (!isLogin) {\n        if (count >= 3) {\n          navigation.navigate('HomeScreen');\n          navigation.pop();\n        } else {\n          navigation.navigate('LoginHomeScreen');\n        }\n      } else {\n        console.log('vao info');\n        dispatch(getInfoUser());\n      }\n    }\n  }, [isFocused]);\n\n  var changeUser = function changeUser() {\n    if (current.address === '' || current.email === '' || current.name === '' || current.phone === '') {\n      showMessage({\n        message: 'Vui lòng điền đầy đủ thông tin',\n        type: 'warning',\n        duration: 2000\n      });\n      return;\n    }\n\n    dispatch(updateInfoUser({\n      name: current.name,\n      phone: current.phone,\n      address: current.address\n    }));\n  };\n\n  if (!isLogin) return React.createElement(React.Fragment, null);else return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, React.createElement(Portal, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 8\n    }\n  }, React.createElement(Modal, {\n    visible: visible,\n    onDismiss: hideModal,\n    contentContainerStyle: styles.modal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.titleModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Thay \\u0111\\u1ED5i th\\xF4ng tin\"), React.createElement(View, {\n    style: styles.mainModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 16\n    }\n  }, \"H\\u1ECD v\\xE0 t\\xEAn:\"), React.createElement(TextInput, {\n    label: \"H\\u1ECD v\\xE0 t\\xEAn:\",\n    value: current.name,\n    style: styles.contentInput,\n    onChangeText: function onChangeText(value) {\n      return setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n        name: value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9:\"), React.createElement(TextInput, {\n    label: \"\\u0110\\u1ECBa ch\\u1EC9 m\\u1EB7c \\u0111\\u1ECBnh:\",\n    value: current.address,\n    style: styles.contentInput,\n    onChangeText: function onChangeText(value) {\n      return setCurrent(_objectSpread(_objectSpread({}, address), {}, {\n        name: value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"), React.createElement(TextInput, {\n    label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\",\n    value: current.phone,\n    style: styles.contentInput,\n    onChangeText: function onChangeText(value) {\n      return setCurrent(_objectSpread(_objectSpread({}, current), {}, {\n        phone: value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))), React.createElement(TouchableOpacity, {\n    onPress: changeUser,\n    style: styles.groupButtonChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttunChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, \"Thay \\u0111\\u1ED5i\")))), React.createElement(View, {\n    style: styles.wrapContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.wrapImage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, React.createElement(Avatar.Image, {\n    style: styles.image,\n    size: 110,\n    source: require(\"../../assets/images/hinh-03.jpg\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), React.createElement(FontAwesome, {\n    style: styles.iconImage,\n    name: \"pencil-square-o\",\n    size: 24,\n    color: COLORS.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    onPress: showModal,\n    style: styles.change,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Thay \\u0111\\u1ED5i th\\xF4ng tin\"))), React.createElement(View, {\n    style: styles.main,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, \"Th\\xF4ng tin c\\xE1 nh\\xE2n\"), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 16\n    }\n  }, \"H\\u1ECD v\\xE0 t\\xEAn:\"), React.createElement(TextInput, {\n    label: \"H\\u1ECD v\\xE0 t\\xEAn:\",\n    value: user == null ? void 0 : user.name,\n    editable: false,\n    style: styles.contentInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, \"Email:\"), React.createElement(TextInput, {\n    label: \"Email:\",\n    value: user == null ? void 0 : user.email,\n    editable: false,\n    style: styles.contentInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9:\"), React.createElement(TextInput, {\n    label: \"\\u0110\\u1ECBa ch\\u1EC9 m\\u1EB7c \\u0111\\u1ECBnh:\",\n    value: user == null ? void 0 : user.address,\n    editable: false,\n    style: styles.contentInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.groupInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.titleInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"), React.createElement(TextInput, {\n    label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\",\n    value: user == null ? void 0 : user.phone,\n    editable: false,\n    style: styles.contentInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }))), React.createElement(MapView, {\n    style: {\n      width: '100%',\n      height: 300\n    },\n    region: {\n      latitude: 10.85971392611097,\n      latitudeDelta: 0.00019789235786227266,\n      longitude: 106.73927636817098,\n      longitudeDelta: 0.00026989728213777653\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default InfoScreen;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/App-Shopping/screens/InfoScreen/InfoScreen.jsx"],"names":["React","useEffect","useLayoutEffect","useState","styles","Avatar","FontAwesome","COLORS","Ionicons","Modal","Portal","Button","Provider","useDispatch","useSelector","getInfoUser","updateInfoUser","useNavigation","StackActions","useIsFocused","useFocusEffect","showMessage","MapView","InfoScreen","visible","setVisible","user","state","User","isLogin","loadingUpdate","navigation","dispatch","isFocused","count","setCount","name","phone","address","current","setCurrent","showModal","hideModal","navigate","pop","console","log","changeUser","email","message","type","duration","container","modal","titleModal","mainModal","groupInput","titleInput","contentInput","value","groupButtonChange","buttunChange","wrapContent","wrapImage","image","require","iconImage","text","change","main","title","width","height","latitude","latitudeDelta","longitude","longitudeDelta"],"mappings":"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","sourcesContent":["import { View, Text, TextInput, TouchableOpacity } from 'react-native'\r\nimport React, { useEffect, useLayoutEffect, useState } from 'react'\r\nimport styles from './InfoScreenStyle'\r\nimport { Avatar } from 'react-native-paper';\r\nimport { FontAwesome } from '@expo/vector-icons'; \r\nimport { COLORS } from '../../contains';\r\nimport { Ionicons } from '@expo/vector-icons'; \r\n// import { TextInput } from 'react-native-paper';\r\nimport { Modal, Portal, Button, Provider } from 'react-native-paper';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getInfoUser, updateInfoUser } from '../../store/slices/userSlice';\r\nimport { useNavigation, StackActions, useIsFocused, useFocusEffect  } from '@react-navigation/native';\r\nimport { showMessage } from 'react-native-flash-message';\r\nimport MapView from 'react-native-maps';\r\nconst InfoScreen = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const user = useSelector(state => state.User.user);\r\n  const isLogin = useSelector(state => state.User.isLogin)\r\n  const loadingUpdate = useSelector(state => state.User.loadingUpdate);\r\n  const navigation = useNavigation();\r\n  const dispatch = useDispatch();\r\n  const isFocused = useIsFocused();\r\n  const [count, setCount] = useState(0);\r\n  const [current, setCurrent] = useState({\r\n    name: user?.name,\r\n    phone: user?.phone,\r\n    address: user?.address,\r\n  })\r\n\r\n  const showModal = () => setVisible(true);\r\n  const hideModal = () => {\r\n    setCurrent({\r\n      name: user?.name,\r\n      phone: user?.phone,\r\n      address: user?.address,\r\n    })\r\n    setVisible(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(!loadingUpdate) hideModal();\r\n  }, [loadingUpdate])\r\n\r\n \r\n  // console.log(user)\r\n  useLayoutEffect(() => {\r\n    setCount(count => count + 1);\r\n    if(isFocused){\r\n      if(!isLogin) {\r\n        if(count >= 3) {\r\n          navigation.navigate('HomeScreen')\r\n          navigation.pop();\r\n        }\r\n        else {\r\n          navigation.navigate('LoginHomeScreen')\r\n        }\r\n      }\r\n      else{\r\n        console.log('vao info')\r\n        dispatch(getInfoUser());\r\n      }\r\n    } \r\n  }, [isFocused])\r\n\r\n  const changeUser = () => {\r\n    if(current.address === '' || current.email === '' || current.name === '' || current.phone === '') {\r\n      showMessage({\r\n        message: 'Vui lòng điền đầy đủ thông tin',\r\n        type: 'warning',\r\n        duration: 2000\r\n      })\r\n      return;\r\n    }\r\n\r\n    dispatch(updateInfoUser({\r\n      name: current.name,\r\n      phone: current.phone,\r\n      address: current.address,\r\n    }))\r\n    \r\n  }\r\n\r\n  if(!isLogin) return <></>\r\n  else\r\n  return (\r\n    <View style={styles.container}>\r\n       <Portal>\r\n       <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.modal}>\r\n          <Text style={styles.titleModal}>Thay đổi thông tin</Text>\r\n\r\n          <View style={styles.mainModal}>\r\n          <View style={styles.groupInput}>\r\n               <Text style={styles.titleInput}>Họ và tên:</Text>\r\n              <TextInput\r\n                label=\"Họ và tên:\"\r\n                value={current.name}\r\n                style={styles.contentInput}\r\n                onChangeText={(value) => setCurrent({...current, name: value})}\r\n              />\r\n          </View>\r\n          <View style={styles.groupInput}>\r\n          <Text style={styles.titleInput}>Địa chỉ:</Text>\r\n              <TextInput\r\n                label=\"Địa chỉ mặc định:\"\r\n                value={current.address}\r\n                style={styles.contentInput}\r\n                onChangeText={(value) => setCurrent({...address, name: value})}\r\n              />\r\n          </View>\r\n          <View style={styles.groupInput}>\r\n          <Text style={styles.titleInput}>Số điện thoại:</Text>\r\n              <TextInput\r\n                label=\"Số điện thoại:\"\r\n                value={current.phone}\r\n                style={styles.contentInput}\r\n                onChangeText={(value) => setCurrent({...current, phone: value})}\r\n              />\r\n              {/* <Text style={styles.changePassword}>Thay đổi mật khẩu</Text> */}\r\n          </View>\r\n          </View>\r\n\r\n          <TouchableOpacity onPress={changeUser} style={styles.groupButtonChange}>\r\n              <Text style={styles.buttunChange}>Thay đổi</Text>\r\n          </TouchableOpacity>\r\n        </Modal>\r\n        \r\n      </Portal>\r\n\r\n      <View style={styles.wrapContent}>\r\n        <View style={styles.wrapImage}>\r\n          <View>\r\n            <Avatar.Image style={styles.image} size={110} source={require('../../assets/images/hinh-03.jpg')} />\r\n            <FontAwesome style={styles.iconImage} name=\"pencil-square-o\" size={24} color={COLORS.text} />\r\n          </View>\r\n          <Text onPress={showModal} style={styles.change}>Thay đổi thông tin</Text>\r\n          {/* <Text style={styles.log}><Ionicons name=\"log-in\" size={24} color=\"black\" /></Text> */}\r\n        </View>\r\n      </View>\r\n      <View style={styles.main}>\r\n          <Text  style={styles.title}>Thông tin cá nhân</Text>\r\n          <View style={styles.groupInput}>\r\n               <Text style={styles.titleInput}>Họ và tên:</Text>\r\n              <TextInput\r\n                label=\"Họ và tên:\"\r\n                value={user?.name}\r\n                editable={false}\r\n                style={styles.contentInput}\r\n              />\r\n          </View>\r\n          <View style={styles.groupInput}>\r\n          <Text style={styles.titleInput}>Email:</Text>\r\n              <TextInput\r\n                label=\"Email:\"\r\n                value={user?.email}\r\n                editable={false}\r\n                style={styles.contentInput}\r\n              />\r\n          </View>\r\n          <View style={styles.groupInput}>\r\n          <Text style={styles.titleInput}>Địa chỉ:</Text>\r\n              <TextInput\r\n                label=\"Địa chỉ mặc định:\"\r\n                value={user?.address}\r\n                editable={false}\r\n                style={styles.contentInput}\r\n              />\r\n          </View>\r\n          <View style={styles.groupInput}>\r\n          <Text style={styles.titleInput}>Số điện thoại:</Text>\r\n              <TextInput\r\n                label=\"Số điện thoại:\"\r\n                value={user?.phone}\r\n                editable={false}\r\n                style={styles.contentInput}\r\n\r\n              />\r\n              {/* <Text style={styles.changePassword}>Thay đổi mật khẩu</Text> */}\r\n          </View>\r\n      </View>\r\n      <MapView style={{width: '100%', height: 300}}\r\n          region={{\r\n            latitude: 10.85971392611097,\r\n            latitudeDelta: 0.00019789235786227266,\r\n            longitude: 106.73927636817098,\r\n            longitudeDelta: 0.00026989728213777653,\r\n          }}\r\n        />\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default InfoScreen"]},"metadata":{},"sourceType":"module"}